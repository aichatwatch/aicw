<!DOCTYPE html>
<html lang="en">

<head>
    <script>
        // update manually when engine version changes
        const REPORT_ENGINE_VERSION = 3.01; 
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title>{{REPORT_TITLE}} - AI Chat Watch Report</title>
    <meta name="description" content="{{REPORT_TITLE}} (project: {{PROJECT_NAME}}) - AI Chat Watch Report">
    <meta property="og:title" content="{{REPORT_TITLE}} (project: {{PROJECT_NAME}}) - AI Chat Watch Report">
    <meta property="og:description" content="{{REPORT_TITLE}} (project: {{PROJECT_NAME}}) - AI Chat Watch Report">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://aichatwatch.com">

    <!-- Load Vue.js -->
    <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>

    <!-- Load Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Load Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />


    <!-- Load D3.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.8.5/d3.min.js"></script>

    <!-- Tailwind Configuration for Custom Dark Mode Class -->
    <script>
        tailwind.config = {
            darkMode: 'class', // Enables class-based dark mode
            theme: {
                extend: {
                    colors: {
                        primary: '#4f46e5', // Indigo-600
                        secondary: '#3b82f6', // Blue-500
                        darkHeaderFooter: '#1a1a2e',
                        darkHeaderFooterEnd: '#16213e',
                        darkFooterStart: '#2d3748',
                        darkFooterEnd: '#1a202c',
                        darkBackground: '#1a1a1a',
                        darkText: '#e0e0e0',
                        sharePopupBg: '#2a2a2a',
                        shareOptionHover: '#3a3a3a',
                        // Add more custom colors as needed
                    },
                },
            },
        }
    </script>


    <style>
        /* CSS Variables for Theme Colors */
        :root {
            --primary-color: #4f46e5; /* Indigo-600 */
            --secondary-color: #3b82f6; /* Blue-500 */
            --background-color: #ffffff;
            --text-color: #333333;
            --header-footer-bg: linear-gradient(to right, #f0f4ff, #e0e7ff);
            --header-footer-text: #333333;
            --gauge-background: #e6e6e6;
            --gauge-text-color: rgba(255, 255, 255, 1.0); /* Muted white */
            --gauge-text-stroke-color: #c1c1c1;
            --surface-raised-color: #ffffff;
            --surface-muted-color: #f8fafc;
            --surface-border-color: #e2e8f0;
            --surface-hover-color: #eef2ff;
            --table-header-bg: #f8fafc; /* Direct value instead of var() */
            --table-header-text: #1f2937;
            --table-body-text: #1f2937;
            --table-hover-bg: #eef2ff; /* Direct value instead of var() */
            --dropdown-background: #ffffff;
            --dropdown-border-color: #d1d5db;
            --dropdown-text-color: #1e293b;
            --dropdown-hover-bg: #e2e8f0;
            --input-background: #ffffff;
            --input-border: #d1d5db;
            --input-placeholder: #6b7280;
            --sharePopupBg: #ffffff;
            --shareOptionHover: #e2e8f0; /* Direct value instead of var() */
        }

        html.dark {
            --background-color: #1a1a1a;
            --text-color: #e2e8f0;
            --header-footer-bg: linear-gradient(to right, #1a1a2e, #16213e);
            --header-footer-text: #ffffff;
            --gauge-background: #333333;
            --gauge-text-color: rgba(255, 255, 255, 1.0); /* Pure white */
            --gauge-text-stroke-color: transparent;
            --surface-raised-color: #111827;
            --surface-muted-color: #1f2937;
            --surface-border-color: #334155;
            --surface-hover-color: rgba(148, 163, 184, 0.14);
            --table-header-bg: #1f2937; /* Direct value instead of var() */
            --table-header-text: #e2e8f0;
            --table-body-text: #e5e7eb;
            --table-hover-bg: rgba(148, 163, 184, 0.14); /* Direct value instead of var() */
            --dropdown-background: #0f172a;
            --dropdown-border-color: #475569;
            --dropdown-text-color: #e2e8f0;
            --dropdown-hover-bg: rgba(148, 163, 184, 0.24);
            --input-background: #1f2937;
            --input-border: #475569;
            --input-placeholder: #94a3b8;
            --sharePopupBg: #1f2937;
            --shareOptionHover: rgba(148, 163, 184, 0.24);
        }

        /* Highlight animation for navigation */
        @keyframes highlightFade {
            0% { background-color: rgba(59, 130, 246, 0.2); }
            100% { background-color: transparent; }
        }

        .highlight-section {
            animation: highlightFade 2s ease-out;
        }

        /* Fade transition for modals */
        .fade-enter-active, .fade-leave-active {
            transition: opacity 0.3s ease;
        }
        .fade-enter, .fade-leave-to {
            opacity: 0;
        }

        /* Base Styles */
        html,
        body {
            -webkit-text-size-adjust: 100%;
        }

        body {
            color: var(--text-color);
            background-color: var(--background-color);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Header and Footer Styles */
        header,
        footer {
            background: var(--header-footer-bg);
            color: var(--header-footer-text);
            transition: background 0.3s ease, color 0.3s ease;
        }

        /* Typography */
        a {
            color: var(--secondary-color) !important; /* Force override inheritance */
            transition: color 0.3s ease;
            text-decoration: none;
        }

        a:hover {
            color: darken(var(--secondary-color), 10%) !important;
            text-decoration: underline;
        }

        /* Header Text */
        .header-text {
            transition: color 0.3s ease;
        }

        html:not(.dark) .header-text {
            color: #000000;
        }

        html.dark .header-text {
            color: #ffffff;
        }

        /* Report Header */
        .report-header {
            background-color: #f3f4f6;
            color: #374151;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        .report-header .highlight {
            color: var(--primary-color);
            transition: color 0.3s ease;
        }

        html.dark .report-header {
            background-color: #1f2937;
            color: #e5e7eb;
        }

        html.dark .report-header .highlight {
            color: #818cf8;
        }

        /* Table Styles - Universal */
        table,
        .report-table {
            border-collapse: separate;
            border-spacing: 0;
            width: 100%;
            background-color: var(--surface-raised-color);
            color: var(--table-body-text);
            border: 1px solid var(--surface-border-color);
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease;
        }

        table thead,
        .report-table thead {
            background-color: var(--table-header-bg) !important;
            color: var(--table-header-text) !important;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        table tbody,
        .report-table tbody {
            background-color: var(--surface-raised-color);
            color: var(--table-body-text);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        table th,
        table td,
        .report-table th,
        .report-table td {
            border: 1px solid var(--surface-border-color);
            padding: 0.5rem 0.75rem;
            font-size: 0.875rem;
            color: var(--table-body-text);
            vertical-align: baseline;
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
        }

        table th,
        .report-table th {
            background-color: var(--table-header-bg) !important;
            color: var(--table-header-text) !important;
            font-weight: 600;
            text-align: left;
        }

        table th:hover,
        .report-table th:hover,
        .sortable-table th:hover {
            background-color: var(--table-hover-bg);
        }

        table tbody tr,
        .report-table tbody tr {
            background-color: var(--surface-raised-color);
            transition: background-color 0.3s ease;
        }

        table tbody tr:hover,
        .report-table tbody tr:hover {
            background-color: var(--table-hover-bg);
        }

        table tbody td,
        .report-table tbody td {
            color: var(--table-body-text) !important;
        }

        .report-table__header {
            color: var(--table-header-text) !important;
            font-weight: 600;
        }

        .report-table__cell {
            color: var(--table-body-text) !important;
            vertical-align: middle;
        }

        .report-table__cell *,
        .report-table__cell a,
        .report-table__cell span {
            /*color: inherit !important;*/
        }

        .report-table__row-divider {
            border-color: var(--surface-border-color);
        }

        /* Icon grid layout for table cells */
        .icon-grid {
            display: flex;
            align-items: baseline;
            gap: 0.125rem; /* Reduced gap from 0.5rem (8px) to 0.125rem (2px) for tighter spacing */
        }

        .sortable-table th {
            cursor: pointer;
        }

        .sort-icon {
            font-size: 0.8em;
            margin-left: 5px;
        }

        /* Form Elements */
        input[type="range"] {
            -webkit-appearance: none;
            width: 100%;
            height: 30px;
            background: #d3d3d3;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
            margin: 10px 0;
        }

        input[type="range"]::-webkit-slider-thumb,
        input[type="range"]::-moz-range-thumb {
            -webkit-appearance: none;
            width: 30px;
            height: 30px;
            background: #4CAF50;
            cursor: pointer;
            border-radius: 50%;
        }

        /* UI Components */
        .logo-link:hover {
            opacity: 0.8;
            transition: opacity 0.3s ease;
        }

        .share-button {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
        }

        .share-popup {
            display: none;
            position: absolute;
            top: 100%;
            right: 0;
            background-color: var(--dropdown-background);
            border: 1px solid var(--dropdown-border-color);
            border-radius: 0.5rem;
            box-shadow: 0 16px 30px rgba(15, 23, 42, 0.18);
            padding: 0.5rem;
            color: var(--dropdown-text-color);
            transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease, box-shadow 0.3s ease;
        }

        .share-popup.show {
            display: block;
        }

        .share-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem;
            cursor: pointer;
            transition: background-color 0.2s ease, color 0.2s ease;
            color: var(--dropdown-text-color);
        }

        .share-option:hover {
            background-color: var(--dropdown-hover-bg);
        }

        .share-option svg {
            width: 20px;
            height: 20px;
            margin-right: 0.5rem;
        }

        html.dark .share-popup {
            box-shadow: 0 20px 35px rgba(0, 0, 0, 0.45);
        }

        html.dark .share-option {
            color: var(--dropdown-text-color);
        }

        /* Combobox theme overrides */
        .combobox-trigger {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.75rem;
            padding: 0.5rem 0.75rem;
            background-color: var(--dropdown-background);
            color: var(--dropdown-text-color);
            border: 1px solid var(--dropdown-border-color);
            border-radius: 0.5rem;
            cursor: pointer;
            font-size: 0.9rem;
            transition: border-color 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease, color 0.2s ease;
        }

        .combobox-trigger:hover {
            border-color: var(--secondary-color);
        }

        .combobox-trigger.is-open {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }

        .combobox-trigger:focus-visible {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
        }

        .combobox-trigger-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.5rem;
            height: 1.5rem;
            color: inherit;
        }

        .combobox-trigger-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 0.375rem;
        }

        .combobox-chevron {
            color: var(--dropdown-text-color);
        }

        .combobox-panel {
            margin-top: 0.25rem;
            background-color: var(--dropdown-background);
            border: 1px solid var(--dropdown-border-color);
            border-radius: 0.5rem;
            box-shadow: 0 16px 30px rgba(15, 23, 42, 0.18);
            color: var(--dropdown-text-color);
            overflow: hidden;
        }

        .combobox-search {
            width: 100%;
            padding: 0.5rem 0.75rem;
            background-color: var(--dropdown-background);
            color: var(--dropdown-text-color);
            border: none;
            border-bottom: 1px solid var(--dropdown-border-color);
            outline: none;
        }

        .combobox-search::placeholder {
            color: var(--input-placeholder);
        }

        .combobox-options {
            max-height: 16rem;
            overflow-y: auto;
        }

        .combobox-option {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 0.75rem;
            cursor: pointer;
            color: var(--dropdown-text-color);
            transition: background-color 0.2s ease, color 0.2s ease;
        }

        .combobox-option:hover,
        .combobox-option.is-selected {
            background-color: var(--dropdown-hover-bg);
        }

        .combobox-option-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.5rem;
            height: 1.5rem;
        }

        .combobox-option-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            border-radius: 0.375rem;
        }

        /* Multi-select checkbox styles */
        .combobox-option input[type="checkbox"] {
            width: 1rem;
            height: 1rem;
            color: var(--secondary-color);
            background-color: var(--input-background);
            border-color: var(--dropdown-border-color);
            border-radius: 0.25rem;
            cursor: pointer;
            flex-shrink: 0;
        }

        .combobox-option input[type="checkbox"]:checked {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        .combobox-option input[type="checkbox"]:focus {
            outline: none;
            box-shadow: 0 0 0 2px rgba(59, 130, 246, 0.2);
        }

        /* Dark mode checkbox styles */
        html.dark .combobox-option input[type="checkbox"] {
            background-color: var(--input-background);
            border-color: var(--input-border);
        }

        html.dark .combobox-option input[type="checkbox"]:checked {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }

        /* Multi-select header bar */
        .combobox-select-all-bar {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.5rem 0.75rem;
            border-bottom: 1px solid var(--dropdown-border-color);
            background-color: var(--surface-muted-color);
            font-size: 0.875rem;
        }

        .combobox-select-all-bar button {
            color: var(--secondary-color);
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            transition: background-color 0.2s ease;
        }

        .combobox-select-all-bar button:hover {
            background-color: var(--dropdown-hover-bg);
        }

        .combobox-select-all-bar .count-text {
            color: var(--input-placeholder);
            font-size: 0.75rem;
        }

        /* CTA Button */
        .cta-button {
            position: relative;
            display: inline-block;
            padding: 15px 35px;
            border: 2px solid var(--primary-color);
            background-color: rgba(0, 0, 0, 0.7);
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 600;
            font-size: 18px;
            overflow: hidden;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            z-index: 1;
            box-shadow: 0 0 10px var(--primary-color);
            animation: pulse 2s infinite;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background-color: var(--primary-color);
            transition: left 0.3s ease;
            z-index: -1;
        }

        .cta-button:hover {
            color: var(--background-color);
            box-shadow: 0 0 20px var(--primary-color);
        }

        .cta-button:hover::before {
            left: 0;
        }

        /* Animations */
        @keyframes pulse {
            0% {
                box-shadow: 0 0 10px var(--primary-color);
            }

            50% {
                box-shadow: 0 0 20px var(--primary-color), 0 0 30px var(--primary-color);
            }

            100% {
                box-shadow: 0 0 10px var(--primary-color);
            }
        }
        
        /* Brand Highlighting */
        .brand-highlight {
            background-color: #fef3c7;
            padding: 0 2px;
            border-radius: 2px;
            font-weight: 500;
        }
        
        html.dark .brand-highlight {
            background-color: #92400e;
            color: #fef3c7;
        }
        
        /* Fix for tooltip clipping in tables */
        .item-comparison-dashboard .overflow-x-auto {
            overflow-x: auto;
            overflow-y: visible;
            position: relative;
        }
        
        .item-comparison-dashboard table {
            position: relative;
        }
        
        .item-comparison-dashboard td,
        .item-comparison-dashboard th {
            position: relative;
            overflow: visible;
        }
        
        /* Ensure tooltips appear above everything */
        .item-comparison-dashboard .group {
            position: relative;
        }
        
        .item-comparison-dashboard .group > div[class*="absolute"] {
            z-index: 9999 !important;
        }

        /* Night Mode Styles */
        html.dark {
            background-color: var(--background-color);
            color: var(--text-color);
        }

        html.dark .bg-white {
            background-color: #2a2a2a;
        }

        html.dark .text-gray-800 {
            color: #e0e0e0;
        }

        html.dark a {
            color: #6b9fff;
        }

        html.dark a:hover {
            color: #9bbaff;
        }

        html.dark input[type="text"],
        html.dark .section input[type="text"] {
            background-color: #333;
            color: #e0e0e0;
            border-color: #555;
        }

        html.dark button {
            background-color: #444;
            color: #e0e0e0;
        }

        html.dark button:hover {
            background-color: #555;
        }

        html.dark .section {
            background-color: #2a2a2a;
            color: #e0e0e0;
        }

        html.dark .section h2,
        html.dark .section h3 {
            color: #ffffff;
        }

        html.dark .section p,
        html.dark .section li {
            color: #e0e0e0;
        }

        html.dark .section a {
            color: #6b9fff;
        }

        html.dark .section a:hover {
            color: #9bbaff;
        }

        html.dark #botLinkInfo,
        html.dark #botCompanyInfo,
        html.dark #botKeywordInfo {
            background-color: #333333;
        }

        html.dark .section .text-gray-500,
        html.dark .section .text-gray-300 {
            color: #a0a0a0 !important;
        }

        /* Media Queries */
        @media (max-width: 639px) {
            table {
                font-size: 0.75rem;
            }

            table th,
            table td {
                padding: 0.25rem;
            }

            .overflow-x-auto {
                -webkit-overflow-scrolling: touch;
            }

            header,
            footer {
                padding: 1rem;
            }

            /* Compact AI model icons for mobile */
            .icon_bot-grid {
                flex-wrap: wrap !important;  /* Allow wrapping on mobile */
                max-width: 100px;            /* Constrain width */
                gap: 0.2rem !important;      /* Reduce gap between icons */
                padding: 0.2rem !important;  /* Reduce padding */
            }

            .icon_bot {
                width: 12px !important;      /* Smaller icons on mobile */
                height: 12px !important;
                font-size: 7px !important;   /* Smaller text for fallback */
            }

            .icon_bot-container {
                max-width: 100px;            /* Limit container width */
            }
        }

        html.dark .dark-icon {
            width: 20px;
            height: 20px;
        }

        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 20px;
        }

        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 2px;
            bottom: 2px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }

        input:checked+.slider {
            background-color: #3b82f6;
        }

        input:checked+.slider:before {
            transform: translateX(20px);
        }

        .nowrap-cell {
            white-space: nowrap;
        }

        /* Modal Styles */
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.5);
            transition: background-color 0.3s ease;
        }

        .modal-content {
            background-color: var(--background-color);
            color: var(--text-color);
            transition: background-color 0.3s ease, color 0.3s ease;
            border: 2px solid var(--text-color);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        .modal-title {
            color: var(--text-color);
            border-bottom: 1px solid var(--text-color);
            padding-bottom: 0.5rem;
        }

        .modal-label {
            color: var(--text-color);
            font-weight: 600;
        }

        .modal-select {
            background-color: var(--background-color);
            color: var(--text-color);
            border: 1px solid var(--text-color);
            padding: 0.5rem;
            border-radius: 0.25rem;
        }

        .modal-textarea {
            font-family: 'Courier New', Courier, monospace;
            font-size: 14px;
            line-height: 1.5;
            background-color: var(--background-color);
            color: var(--text-color);
            border: 1px solid var(--text-color);
            padding: 0.5rem;
            border-radius: 0.25rem;
        }

        .modal-button {
            transition: background-color 0.3s ease, color 0.3s ease;
            padding: 0.5rem 1rem;
            border-radius: 0.25rem;
            font-weight: 600;
        }

        .modal-button.primary {
            background-color: var(--primary-color);
            color: white;
        }

        .modal-button.secondary {
            background-color: #e2e8f0;
            color: #4a5568;
        }

        .modal-button:hover {
            opacity: 0.9;
        }

        /* Night Mode Styles */
        html.dark .modal-content {
            background-color: #2a2a2a;
            border-color: #4a5568;
        }

        html.dark .modal-title {
            border-color: #4a5568;
        }

        html.dark .modal-select,
        html.dark .modal-textarea {
            background-color: #1f2937;
            border-color: #4a5568;
        }

        html.dark .modal-button.secondary {
            background-color: #4a5568;
            color: #e2e8f0;
        }

        /* Ad CTA Button Styles */
        .ad-cta-button {
            color: white !important;
        }

        html.dark .ad-cta-button {
            color: white !important;
        }

        html.dark .ad-cta-button:hover {
            color: white !important;
        }

        html.dark .ad-cta-button {
            background-color: #3b82f6;
        }

        html.dark .ad-cta-button:hover {
            background-color: #2563eb;
        }


        .text-content ul {
            list-style-type: disc;
            padding-left: 20px;
            margin: 10px 0;
        }


        .text-content li {
            margin-bottom: 5px;
        }

        .text-content p {
            margin-bottom: 10px;
        }

        .prompt-content {
            white-space: pre-wrap;
            /* Allows wrapping while preserving formatting */
            word-wrap: break-word;
            /* Ensures long words don't overflow */
            font-family: monospace;
            /* Keeps the monospace font */
            font-size: 0.875rem;
            /* Equivalent to text-sm */
            padding: 1rem;
            margin: 0;
            /* Removes default margins */
        }

        /* Modal Styles in Night Mode */
        html.dark .modal-overlay {
            background-color: rgba(0, 0, 0, 0.8);
        }

        html.dark .modal-content {
            background-color: #2a2a2a;
            color: #e0e0e0;
            border-color: #4a5568;
        }

        html.dark .modal-title {
            color: #e0e0e0;
            border-color: #4a5568;
        }

        html.dark .modal-label {
            color: #e0e0e0;
        }

        html.dark #actionSelect {
            background-color: #333;
            color: #e0e0e0;
            border-color: #4a5568;
        }

        html.dark .bg-gray-50 {
            background-color: #1f2937;
        }

        html.dark .text-gray-700,
        html.dark .text-gray-600,
        html.dark .text-gray-800 {
            color: #e0e0e0;
        }

        html.dark .border-gray-200,
        html.dark .border-gray-300 {
            border-color: #4a5568;
        }

        html.dark .prompt-content {
            background-color: #1f2937;
            color: #e0e0e0;
            border-color: #4a5568;
        }

        html.dark .bg-gray-300 {
            background-color: #4a5568;
        }

        html.dark .bg-gray-300:hover {
            background-color: #2d3748;
        }

        /* Ad banner dark mode color update */
        #advertisement-block {
            background-color: #f3f4f6;
            border: 2px dashed #d1d5db;
            transition: background-color 0.3s ease, border-color 0.3s ease;
        }

        #advertisement-block .ad-content {
            background-color: #ffffff;
            transition: background-color 0.3s ease;
        }

        html.dark #advertisement-block {
            background-color: #1f2937;
            border-color: #4b5563;
        }

        html.dark #advertisement-block .ad-content {
            background-color: #374151;
        }

        html.dark #advertisement-block h2 {
            color: #e5e7eb;
        }

        html.dark #advertisement-block p {
            color: #d1d5db;
        }

        html.dark #advertisement-block .cta-button {
            background-color: #3b82f6;
            color: #ffffff;
            border-color: #60a5fa;
        }

        html.dark #advertisement-block .cta-button:hover {
            background-color: #2563eb;
        }


        #mobile-hint {
            font-size: 14px;
            transition: all 0.3s ease;
        }

        #mobile-hint.show {
            display: block;
        }

        #mobile-hint-close {
            background: none;
            border: none;
            cursor: pointer;
        }

        body.has-mobile-hint {
            padding-top: 40px;
            /* Adjust based on the height of your hint */
        }


        .gauge-container {
            display: inline-flex;
            align-items: center;
            vertical-align: middle;
        }

        /* Ensure proper vertical alignment in table cells */
        .report-table__cell .gauge-container {
            margin-top: 0;
            margin-bottom: 0;
        }

        /* Ensure consistent height and alignment for flex containers in cells */
        .report-table__cell .flex.items-center {
            min-height: 1.25rem; /* Match gauge height */
            align-items: center;
        }

        .gauge-background {
            width: 100%;
            height: 1.25rem;
            /* Equivalent to h-5 in Tailwind */
            background-color: var(--gauge-background);
            border-radius: 0.25rem;
            /* Equivalent to rounded in Tailwind */
            overflow: hidden;
            transition: background-color 0.3s ease;
        }

        /* Light blue background variant for mentions gauge */
        .gauge-background.gauge-background-mentions {
            background-color: #070a09; 
        }

        .dark-mode .gauge-background.gauge-background-mentions {
            background-color: #043b22; 
        }

        .gauge-fill {
            height: 100%;
            background-color: var(--secondary-color);
            opacity: 0.8;
            transition: width 0.3s ease;
        }

        .gauge-text {
            color: var(--gauge-text-color);
            -webkit-text-stroke: 1px var(--gauge-text-stroke-color);
            text-stroke: 1px var(--gauge-text-stroke-color);
            paint-order: stroke fill;
            font-weight: bold;
            transition: color 0.3s ease, -webkit-text-stroke 0.3s ease, text-stroke 0.3s ease;
        }

        /* Circular gauge styles */
        .circular-gauge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            position: relative;
            width: 46px;
            height: 46px;
        }

        .circular-gauge svg {
            transform: rotate(-90deg);
        }

        .circular-gauge-bg {
            fill: none;
            stroke: var(--gauge-background);
            stroke-width: 4;
        }

        .circular-gauge-fill {
            fill: none;
            stroke: var(--secondary-color);
            stroke-width: 4;
            stroke-linecap: round;
            transition: stroke-dashoffset 0.5s ease;
        }

        .circular-gauge-text {
            position: absolute;
            font-size: 11px;
            font-weight: 600;
            color: var(--text-color);
        }


        #welcomeModal {
            transition: opacity 0.3s ease-out;
        }

        #welcomeModal.hidden {
            opacity: 0;
            pointer-events: none;
        }

        #timeSaved {
            transition: all 0.5s ease-out;
        }

        [v-cloak] {
            display: none;
        }

        /* Markdown content styles */
        .markdown-content {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            font-size: 0.875rem; /* 14px */
            line-height: 1.6;
            color: var(--text-color);
        }

        /* Headings in markdown */
        .markdown-content h1 {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 1.5rem 0 1rem;
            border-bottom: 1px solid var(--surface-border-color);
            padding-bottom: 0.5rem;
        }

        .markdown-content h2 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 1.25rem 0 0.75rem;
            border-bottom: 1px solid var(--surface-border-color);
            padding-bottom: 0.25rem;
        }

        .markdown-content h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 1rem 0 0.5rem;
        }

        .markdown-content h4, .markdown-content h5, .markdown-content h6 {
            font-size: 1rem;
            font-weight: 600;
            margin: 0.75rem 0 0.5rem;
        }

        /* Lists in markdown */
        .markdown-content ul {
            list-style-type: disc;
            padding-left: 1.5rem;
            margin: 0.75rem 0;
        }

        .markdown-content ol {
            list-style-type: decimal;
            padding-left: 1.5rem;
            margin: 0.75rem 0;
        }

        .markdown-content li {
            margin: 0.25rem 0;
        }

        .markdown-content ul ul, .markdown-content ol ul {
            list-style-type: circle;
            margin: 0.25rem 0;
        }

        .markdown-content ul ul ul, .markdown-content ol ol ul {
            list-style-type: square;
        }

        /* Paragraphs and text */
        .markdown-content p {
            margin: 0.75rem 0;
        }

        .markdown-content strong {
            font-weight: 600;
            color: var(--text-color);
        }

        .markdown-content em {
            font-style: italic;
        }

        /* Links in markdown */
        .markdown-content a {
            color: var(--secondary-color) !important;
            text-decoration: underline;
        }

        .markdown-content a:hover {
            opacity: 0.8;
        }

        /* Code blocks and inline code */
        .markdown-content code {
            background-color: rgba(175, 184, 193, 0.2);
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
            font-family: 'Courier New', Courier, monospace;
            font-size: 0.85em;
        }

        .markdown-content pre {
            background-color: var(--surface-muted-color);
            border: 1px solid var(--surface-border-color);
            border-radius: 0.375rem;
            padding: 1rem;
            overflow-x: auto;
            margin: 1rem 0;
        }

        .markdown-content pre code {
            background-color: transparent;
            padding: 0;
            font-size: 0.875rem;
        }

        /* Blockquotes */
        .markdown-content blockquote {
            border-left: 4px solid var(--primary-color);
            padding-left: 1rem;
            margin: 1rem 0;
            color: var(--text-color);
            opacity: 0.9;
            font-style: italic;
        }

        /* Tables */
        .markdown-content table {
            border-collapse: collapse;
            width: 100%;
            margin: 1rem 0;
        }

        .markdown-content table th,
        .markdown-content table td {
            border: 1px solid var(--surface-border-color);
            padding: 0.5rem;
            text-align: left;
        }

        .markdown-content table th {
            background-color: var(--table-header-bg);
            font-weight: 600;
        }

        .markdown-content table tr:nth-child(even) {
            background-color: var(--surface-muted-color);
        }

        /* Horizontal rules */
        .markdown-content hr {
            border: none;
            border-top: 2px solid var(--surface-border-color);
            margin: 1.5rem 0;
        }

        /* Images */
        .markdown-content img {
            max-width: 100%;
            height: auto;
            border-radius: 0.375rem;
            margin: 1rem 0;
        }

        /* Dark mode adjustments for markdown */
        html.dark .markdown-content code {
            background-color: rgba(110, 118, 129, 0.3);
            color: #e5e7eb;
        }

        html.dark .markdown-content pre {
            background-color: #1f2937;
            border-color: #374151;
        }

        html.dark .markdown-content blockquote {
            border-left-color: #818cf8;
        }

        /* Ensure highlighted terms stand out in markdown */
        .markdown-content mark {
            background-color: #fef3c7 !important;
            color: #000 !important;
            padding: 0.125rem 0.25rem;
            border-radius: 0.25rem;
        }

        html.dark .markdown-content mark {
            background-color: #d97706 !important;
            color: #fff !important;
        }
    </style>
    <style>
        .loading-content {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #f3f4f6;
            z-index: 9999;
        }

        .loading-wrapper {
            text-align: center;
        }

        .loading-wrapper h1 {
            font-size: 24px;
            margin-bottom: 10px;
            color: #333;
        }

        .loading-wrapper p {
            font-size: 16px;
            margin-bottom: 20px;
            color: #666;
        }

        .loading-wrapper img {
            width: 32px;
            height: 32px;
        }

        .spinner-container {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .spinner-container img {
            width: 32px;
            height: 32px;
        }
    </style>
    <style>
        .trend-icon::after {
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 4px 8px;
            border: none;
            font-size: 12px;
            white-space: nowrap;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s, visibility 0.3s;
        }

        @media (hover: hover) {
            .trend-icon:hover::after {
                position: absolute;
                bottom: 100%;
                left: 50%;
                transform: translateX(-50%);
                background-color: rgba(0, 0, 0, 0.8);
                color: white;
                padding: 4px 8px;
                border-radius: 4px;
                font-size: 12px;
                white-space: nowrap;
                opacity: 1;
                visibility: visible;
                z-index: 1000;
            }
        }

        @media (hover: none) {
            .trend-icon::after {
                display: none;
            }
        }
    </style>
    <style>
        .text-content-trimmed {
            max-height: 200px;
            /* Adjust this value as needed */
            overflow: hidden;
        }

        .text-content-read-more-btn {
            background-color: #f3f4f6;
            border: 1px solid #d1d5db;
            border-radius: 0.25rem;
            padding: 0.5rem 1rem;
            margin-top: 1rem;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        .text-content-read-more-btn:hover {
            background-color: #e5e7eb;
        }

        .hidden {
            display: none;
        }
    </style>

    <style>
        .multi-select {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .multi-select-toggle {
            display: block;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 0.25rem;
            cursor: pointer;
        }

        .multi-select-options {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            z-index: 10;
            background: white;
            border: 1px solid #ccc;
            border-top: none;
            max-height: 200px;
            overflow-y: auto;
        }
    </style>
    <style>
        .icon_bot {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 24px;
            color: white;
            text-decoration: none;
            transition: transform 0.2s;
        }

        .icon_bot:hover {
            transform: scale(1.05);
        }

        .icon_bot-grid {
            display: flex;
            gap: 0.35rem;
            /* Reduced gap between icons */
            flex-wrap: nowrap;
            /* Prevent wrapping to next line */
            padding: 0.45rem;
            /* Reduced padding */
            font-family: 'Inter', -apple-system, sans-serif;
        }

        .icon_bot-container {
            display: inline-flex;
            /* Changed to inline-flex */
            align-items: center;
            justify-content: center;
        }

        .icon_bot {
            width: 14px;
            /* Reduced size to 14px */
            height: 14px;
            /* Reduced size to 14px */
            border-radius: 3px;
            /* Adjusted for smaller size */
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 11px;
            /* Reduced font size */
            color: white;
            text-decoration: none;
            transition: transform 0.2s;
        }

        .icon_bot:hover {
            transform: scale(1.15);
            /* Slightly reduced scale on hover */
        }

        .icon_bot-label {
            font-size: 12px;
            color: #666;
            text-align: center;
            margin-top: 4px;
        }

        /* Expandable icon badge styles */
        .icon-expand-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0 4px;
            min-width: 20px;
            height: 14px;
            font-size: 10px;
            font-weight: 600;
            color: #666;
            background-color: #e5e7eb;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            margin-left: 2px;
            user-select: none;
        }

        .dark .icon-expand-badge {
            color: #d1d5db;
            background-color: #374151;
        }

        .icon-expand-badge:hover {
            background-color: #d1d5db;
            transform: scale(1.05);
        }

        .dark .icon-expand-badge:hover {
            background-color: #4b5563;
        }

        .icon-expanded-items {
            display: inline;
            animation: fadeIn 0.2s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .icon_bot_unknown {
            fill: #808080;
            background: linear-gradient(135deg, #808080, #A9A9A9);
        }

        .icon_bot_all {
            fill: #4a4a4a;
            background: linear-gradient(135deg, #4a4a4a, #2a2a2a);
        }


        .icon_bot_google_gemini {
            fill: #4285f4;
            background: linear-gradient(135deg, #4285f4, #34a853);
        }

        .icon_bot_perplexity_ai {
            fill: #000000;
            background: linear-gradient(135deg, #000000, #333333);
        }

        .icon_bot_brave_search {
            fill: #fb542b;
            background: linear-gradient(135deg, #fb542b, #ff7a59);
        }

        .icon_bot_you_com {
            fill: #2c2c2c;
            background: linear-gradient(135deg, #2c2c2c, #454545);
        }

        .icon_bot_openai_searchgpt {
            fill: #74aa9c;
            background: linear-gradient(135deg, #74aa9c, #9ec1b9);
        }

        .icon_bot_label {
            font-size: 12px;
            color: #666;
            text-align: center;
            margin-top: 4px;
        }

        .current-bot {
            font-size: 1.1em;
        }

        .other-bots {
            line-height: 1.2;
        }

        .muted-icon {
            filter: grayscale(100%);
            transition: opacity 0.3s ease, filter 0.3s ease;
        }

        .muted-icon:hover {
            opacity: 1 !important;
            filter: grayscale(0%);
        }

        .selectable-text {
            /* cursor: pointer; */
            user-select: all;
            color: inherit !important;
        }

        .selectable-text:hover {
            /*background-color: darken(var(--background-color), 5%);*/
        }

        /* Ensure all table cell content inherits proper colors */
        table td,
        .report-table td,
        table td *,
        .report-table td * {
            /*
            color: var(--table-body-text); 
            */
            /* do not add !important here because gaugeg internal text should remain white color */
        }

        /* Override any Tailwind text color utilities in tables */
        .report-table .text-gray-900,
        .report-table .text-gray-800,
        .report-table .text-gray-700,
        .report-table .text-gray-600,
        .report-table .text-gray-500,
        table .text-gray-900,
        table .text-gray-800,
        table .text-gray-700,
        table .text-gray-600,
        table .text-gray-500 {
            color: var(--table-body-text) !important;
        }

        /* Dark mode overrides for table content */
        html.dark .report-table td,
        html.dark table td,
        html.dark .report-table td *,
        html.dark table td * {
            color: var(--table-body-text) !important;
        }

        /* Ensure table headers get correct colors */
        table thead th,
        .report-table thead th,
        table thead th *,
        .report-table thead th *,
        .sortable-table th,
        .sortable-table th * {
            color: var(--table-header-text) !important;
        }

        /* Dark mode specific for headers */
        html.dark table thead th,
        html.dark .report-table thead th,
        html.dark .sortable-table th {
            background-color: var(--table-header-bg) !important;
            color: var(--table-header-text) !important;
        }

        /* Override Tailwind text-gray classes in table headers */
        th.text-gray-700,
        th.text-gray-600,
        th.text-gray-500,
        th[class*="text-gray"] {
            color: var(--table-header-text) !important;
        }

        /* Force dark mode text colors for table headers */
        html.dark th.dark\:text-gray-300,
        html.dark th.dark\:text-gray-400,
        html.dark th[class*="dark:text-gray"] {
            color: var(--table-header-text) !important;
        }

        /* Ensure dynamically created headers get proper colors */
        th.px-3.py-2,
        th[data-sort] {
            color: var(--table-header-text) !important;
            background-color: var(--table-header-bg) !important;
        }

        /* Ultimate fallback - ALL th elements must use CSS variables */
        th {
            color: var(--table-header-text) !important;
            background-color: var(--table-header-bg) !important;
        }

        /* Ensure spans and other elements inside th inherit color */
        th * {
            color: inherit !important;
        }
    </style>

    <style>
        @keyframes scrollHint {
            0% {
                transform: translateX(0);
            }
            30% {
                transform: translateX(-240px);
            }
            60% {
                transform: translateX(0);
            }
            100% {
                transform: translateX(0);
            }
        }

        .overflow-x-auto.scroll-hint {
            position: relative;
        }

        .overflow-x-auto.scroll-hint::after {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            width: 40px;
            background: linear-gradient(to left, rgba(255,255,255,0.9), transparent);
            animation: fadeIn 0.3s ease-in;
        }

        .overflow-x-auto.scroll-hint > table {
            animation: scrollHint 2s ease-in-out;
        }

        /* Dark mode scroll hint */
        html.dark .overflow-x-auto.scroll-hint::after {
            background: linear-gradient(to left, rgba(26,26,26,0.95), transparent);
        }        
    </style>

    <!-- Print-friendly CSS -->
    <style>
        @media print {
            /* Hide non-essential elements */
            .no-print,
            .dark-control,
            .share-button,
            button,
            .ad-section,
            header,
            footer,
            .scroll-hint::after,
            .combobox-select,
            .feedback-link,
            .subscribe-link {
                display: none !important;
            }
            
            /* Ensure backgrounds and colors print */
            * {
                -webkit-print-color-adjust: exact !important;
                color-adjust: exact !important;
                print-color-adjust: exact !important;
            }
            
            /* Page setup */
            @page {
                size: A4;
                margin: 0.75in;
            }
            
            /* Typography adjustments */
            body {
                font-size: 11pt;
                line-height: 1.5;
                color: #000 !important;
                background: #fff !important;
            }
            
            h1 { font-size: 24pt; margin-bottom: 12pt; }
            h2 { font-size: 18pt; margin-bottom: 10pt; page-break-after: avoid; }
            h3 { font-size: 14pt; margin-bottom: 8pt; page-break-after: avoid; }
            
            /* Section handling */
            .section, .base-section-component {
                page-break-inside: avoid;
                margin-bottom: 20pt;
                box-shadow: none !important;
                border: 1px solid #e5e7eb;
            }
            
            /* Tables */
            table {
                page-break-inside: avoid;
                border-collapse: collapse;
                width: 100%;
            }
            
            table th, table td {
                border: 1px solid #d1d5db;
                padding: 6pt;
                font-size: 10pt;
            }
            
            /* Charts - show placeholder text */
            canvas {
                display: none !important;
            }
            
            .chart-container::after {
                content: "[Chart: View digital version for interactive visualization]";
                display: block;
                text-align: center;
                color: #6b7280;
                font-style: italic;
                padding: 20pt;
                border: 1px dashed #d1d5db;
            }
            
            /* Ensure links are visible */
            a {
                color: #000 !important;
                text-decoration: underline !important;
            }
            
            /* Show URLs for important links */
            a[href^="http"]:after {
                content: " (" attr(href) ")";
                font-size: 9pt;
                color: #6b7280;
            }
            
            /* Print-only elements */
            .print-only {
                display: block !important;
            }
            
            /* Add report date to header */
            .report-header::before {
                content: "AI Chat Watch Report - Printed: " attr(data-date);
                display: block;
                font-size: 10pt;
                color: #6b7280;
                margin-bottom: 10pt;
            }
            
            /* Sentiment indicators */
            
            /* Competitive analysis table */
            .competitive-analysis table {
                font-size: 9pt;
            }
            
            /* Ensure gradients print nicely */
            .bg-gradient-to-r,
            .bg-gradient-to-br {
                background: #f3f4f6 !important;
                border: 2px solid #1e40af !important;
            }
            
            /* Force page breaks for major sections */
            .competitive-analysis {
                page-break-before: always;
            }
        }
    </style>
    
    <!-- Enhanced Visual Styles -->
    <style>
        /* Professional color refinements */
        .metric-card {
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .metric-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        /* Glassmorphism effects */
        .glass-effect {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        /* Professional animations */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .section {
            animation: fadeInUp 0.6s ease-out;
        }
        
        /* Enhanced trend indicators */
        .trend-icon {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 28px;
            height: 28px;
            border-radius: 6px;
            font-weight: bold;
            transition: all 0.2s ease;
        }
        
        .trend-icon.text-green-500 {
            background-color: #d1fae5;
            color: #065f46;
        }

        .trend-icon.text-red-500 {
            background-color: #fee2e2;
            color: #991b1b;
        }

        .trend-icon.text-purple-500 {
            background-color: #ede9fe;
            color: #5b21b6;
        }

        /* Dark mode trend icon styles */
        html.dark .trend-icon.text-green-500 {
            background-color: #064e3b;
            color: #6ee7b7;
        }

        html.dark .trend-icon.text-red-500 {
            background-color: #7f1d1d;
            color: #fca5a5;
        }

        html.dark .trend-icon.text-purple-500 {
            background-color: #4c1d95;
            color: #c4b5fd;
        }

        /* Additional trend icon colors */
        .trend-icon.text-blue-500 {
            background-color: #dbeafe;
            color: #1e3a8a;
        }

        .trend-icon.text-yellow-500 {
            background-color: #fef3c7;
            color: #78350f;
        }

        .trend-icon.text-gray-500 {
            background-color: #f3f4f6;
            color: #374151;
        }

        .trend-icon.text-orange-500 {
            background-color: #fed7aa;
            color: #7c2d12;
        }

        /* Dark mode for additional trend icon colors */
        html.dark .trend-icon.text-blue-500 {
            background-color: #1e3a8a;
            color: #93c5fd;
        }

        html.dark .trend-icon.text-yellow-500 {
            background-color: #713f12;
            color: #fde68a;
        }

        html.dark .trend-icon.text-gray-500 {
            background-color: #374151;
            color: #d1d5db;
        }

        html.dark .trend-icon.text-orange-500 {
            background-color: #7c2d12;
            color: #fb923c;
        }

        /* Ensure trend icons maintain visibility in dark mode */
        html.dark .trend-icon {
            /* 
                // no border in dark mode
            */
        }

        /* Graph link colors */
        .graph-link {
            fill: #2563eb; /* blue-600 */
            text-decoration: underline;
        }

        html.dark .graph-link {
            fill: #60a5fa; /* blue-400 */
        }

        /* D3 graph link colors */
        svg a text {
            fill: #2563eb;
        }

        html.dark svg a text {
            fill: #60a5fa;
        }
        
        /* Professional table styling */
        .sortable-table th {
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
        }
        
        /* Enhanced dark mode */
        html.dark .metric-card {
            background: linear-gradient(135deg, rgba(30, 64, 175, 0.1), rgba(124, 58, 237, 0.1));
            border: 1px solid rgba(124, 58, 237, 0.3);
        }

        /* Fix preview icon button styling */
        .preview-icon-btn {
            background: transparent !important;
            border: none !important;
            padding: 0.25rem;
            cursor: pointer;
            transition: opacity 0.2s ease;
        }

        .preview-icon-btn:hover {
            opacity: 0.8;
        }

        /* Fix SVG stroke colors in dark mode */
        html.dark svg {
            color: currentColor;
        }

        html.dark svg path[stroke="currentColor"],
        html.dark svg circle[stroke="currentColor"],
        html.dark svg line[stroke="currentColor"] {
            stroke: currentColor !important;
        }

        /* Fix mark element highlighting in excerpts */
        mark {
            display: inline-block;
            line-height: inherit;
            padding: 0.125rem 0.25rem;
            margin: -0.125rem 0;
            border-radius: 0.25rem;
        }

        /* Special handling for mark inside pre elements */
        pre mark,
        .excerpt-full-text mark {
            padding: 0.125rem 0.375rem;
            line-height: 1.2;
        }

        /* Ensure proper dark mode colors */
        mark.bg-yellow-200 {
            background-color: #fef3c7 !important;
        }

        html.dark mark.bg-yellow-600,
        html.dark mark.dark\:bg-yellow-600 {
            background-color: #d97706 !important;
            color: #ffffff;
        }
        
        /* Professional button styling */
        .btn-primary {
            background: linear-gradient(135deg, #3b82f6, #2563eb);
            color: white;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        
        /* Alert animations */
        .alert-fade-enter-active, .alert-fade-leave-active {
            transition: all 0.3s ease;
        }
        
        .alert-fade-enter-from {
            opacity: 0;
            transform: translateY(-10px);
        }
        
        .alert-fade-leave-to {
            opacity: 0;
            transform: translateY(10px);
        }
        
        .alert-fade-move {
            transition: transform 0.3s ease;
        }
        
        /* Navigation Menu Styles */
        #navigation-menu {
            top: 0;
            height: 100vh;
            overflow-y: auto;
        }
        
        /* desktop */
        @media (min-width: 1024px) {
            #navigation-menu {
                position: fixed;
                left: 0;
                top: 0;
                width: 16rem;
                transform: translateX(0);
                border-right: 1px solid #e5e7eb;
            }

            .report-container {
                /* by default showing sidebar so shifting the left */
                margin-left: 16rem;
                max-width: calc(100vw - 16rem);
            }

        }
        
        #nav-items li {
            cursor: pointer;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            transition: all 0.2s ease;
        }
        
        #nav-items li:hover {
            background-color: #f3f4f6;
        }
        
        html.dark #nav-items li:hover {
            background-color: #374151;
        }
        
        #nav-items li.active {
            background-color: #3b82f6;
            color: white;
        }
        
        #nav-items li.subsection {
            padding-left: 2rem;
            font-size: 0.875rem;
        }
        
        /* Mobile menu open state */
        #navigation-menu.menu-open {
            transform: translateX(0);
        }

        /* Desktop sidebar collapse */
        body.sidebar-collapsed #navigation-menu {
            transform: translateX(-100%);
        }

        body.sidebar-collapsed #desktop-menu-toggle {
            left: 0;
        }

        body.sidebar-collapsed #desktop-menu-toggle svg {
            transform: rotate(180deg);
        }

        body.sidebar-collapsed .report-container {
            margin-left: 0 !important;
            max-width: calc(100vw - 0rem) !important;
        }

        main {
            transition: margin-left 300ms ease-in-out, max-width 300ms ease-in-out;
            /*max-width: calc(100vw - 1rem);*/
        }

        #desktop-menu-toggle {
            transition: left 300ms ease-in-out;
        }

        #navigation-menu {
            transition: transform 300ms ease-in-out;
        }
        
        /* Smooth scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        /* Section anchors offset for fixed header */
        .section-anchor {
            scroll-margin-top: 80px;
        }
        
        /* Ensure sections have proper scroll offset */
        .section, [id^="parent_div_for_"] {
            scroll-margin-top: 80px;
        }
        
        /* Clickable comparison terms styles */
        .comparison-term-clickable {
            cursor: pointer;
            color: #3b82f6;
            transition: all 0.2s ease;
            text-decoration: none;
            border-radius: 3px;
            padding: 1px 3px;
        }
        
        .comparison-term-clickable:hover {
            color: #1d4ed8;
            background-color: rgba(59, 130, 246, 0.1);
            text-decoration: underline;
        }
        
        /* Dark mode styles for clickable terms */
        html.dark .comparison-term-clickable {
            color: #60a5fa;
        }
        
        html.dark .comparison-term-clickable:hover {
            color: #93c5fd;
            background-color: rgba(96, 165, 250, 0.15);
        }
        
        /* Ensure clickable terms work within highlighted content */
        .comparison-term-clickable.brand-highlight {
            background-color: #fef3c7;
            color: #1d4ed8;
        }
        
        html.dark .comparison-term-clickable.brand-highlight {
            background-color: #92400e;
            color: #93c5fd;
        }
        
        .comparison-term-clickable.brand-highlight:hover {
            background-color: #fde68a;
        }
        
        html.dark .comparison-term-clickable.brand-highlight:hover {
            background-color: #b45309;
        }

        /* Group hover visibility for preview icon */
        .group-hover-visible {
            opacity: 0.5;
        }

        .group:hover .group-hover-visible {
            opacity: 1;
        }

        /* Clickable Entity Styles */
        .clickable-entity {
            cursor: pointer;
            text-decoration: underline;
            text-decoration-style: dotted;
            color: #3b82f6;
            transition: all 0.2s ease;
            padding: 1px 2px;
            border-radius: 3px;
            background-color: rgba(59, 130, 246, 0.1);
        }

        .clickable-entity:hover {
            background-color: rgba(59, 130, 246, 0.2);
            color: #1d4ed8;
            text-decoration-style: solid;
            transform: translateY(-1px);
        }

        /* Entity row highlight animation for table rows */
        .entity-row-highlight {
            background-color: #fbbf24 !important;
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.5);
            transform: scale(1.01);
            transition: all 0.3s ease;
        }

        /* Slow flash animation for clicked entities */
        @keyframes entity-flash {
            0%, 100% { background-color: transparent; box-shadow: none; }
            50% { background-color: #fbbf24; box-shadow: 0 0 15px rgba(251, 191, 36, 0.6); }
        }

        .entity-row-flash {
            animation: entity-flash 1.5s ease-in-out 2;
        }

        /* Dark mode styles for clickable entities */
        html.dark .clickable-entity {
            background-color: rgba(59, 130, 246, 0.2);
        }

        html.dark .clickable-entity:hover {
            background-color: rgba(59, 130, 246, 0.3);
        }

        html.dark .entity-row-highlight {
            background-color: #d97706 !important;
            box-shadow: 0 0 20px rgba(217, 119, 6, 0.5);
        }
    </style>

</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-100 transition-colors duration-300">

    <div id="mobile-hint" class="hidden fixed top-0 left-0 right-0 bg-yellow-100 dark:bg-yellow-900 text-black dark:text-white p-2 text-center z-50">
        This report is best viewed on desktop
        <button id="mobile-hint-close" class="ml-2 text-black dark:text-white font-bold">&times;</button>
    </div>

    <!-- Navigation Menu -->
    <nav id="navigation-menu" class="fixed left-0 top-0 h-full w-64 bg-white dark:bg-gray-800 shadow-lg transform -translate-x-full transition-transform duration-300 z-40 lg:translate-x-0 lg:static lg:h-auto lg:w-auto lg:shadow-none">
        <div class="p-4 h-full overflow-y-auto">
            <div class="flex justify-between items-center mb-6 lg:hidden">
                <h3 class="text-lg font-semibold">Table of Contents</h3>
                <button id="close-menu" class="text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                    </svg>
                </button>
            </div>
            <ul id="nav-items" class="space-y-2">
                <!-- Navigation items will be dynamically populated -->
            </ul>
        </div>
    </nav>

    <!-- Mobile Menu Toggle -->
    <button id="mobile-menu-toggle" class="fixed bottom-4 right-4 lg:hidden bg-blue-500 dark:bg-blue-600 text-white p-3 rounded-full shadow-lg z-30 hover:bg-blue-600 dark:hover:bg-blue-700 transition-colors">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
        </svg>
    </button>

    <!-- Desktop Sidebar Toggle -->
    <button id="desktop-menu-toggle" class="hidden lg:block fixed top-1/2 left-60 -translate-y-1/2 z-50 bg-white dark:bg-gray-800 p-2 rounded-r-lg shadow-lg hover:bg-gray-100 dark:hover:bg-gray-700 transition-all duration-300">
        <svg class="w-5 h-5 text-gray-600 dark:text-gray-300 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
        </svg>
    </button>

    <!-- Overlay for mobile menu -->
    <div id="menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-30 hidden lg:hidden"></div>


    <div class="report-container">
        <!-- Header -->
        <header class="shadow-lg pb-4">

            <div class="container mx-auto px-4 py-3 md:py-6">
                <!-- Mobile Header (shown on small screens) -->
                <div class="md:hidden flex flex-col items-center justify-center w-full space-y-3">
                    <a href="https://www.AIChatWatch.com" title="Go to AI Chat Watch Homepage"
                    class="text-2xl font-bold header-text hover:opacity-80 transition-opacity">
                        AI ChatWatch
                    </a>
                    <div class="flex items-center justify-center gap-4">
                        <a href="https://github.com/aichatwatch/aicw"
                        target="_blank"
                        rel="noopener noreferrer"
                        title="View AI Chat Watch on GitHub"
                        class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors">
                            <i class="fa-brands fa-github"></i>
                            Github
                        </a>
                        <a href="https://aichatwatch.com/cloud"
                        target="_blank"
                        rel="noopener noreferrer"
                        title="View AI Chat Watch Cloud"
                        class="text-sm text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors">
                            <i class="fas fa-cloud"></i>
                            Cloud Version
                        </a>                    
                    </div>                    
                </div>


                <!-- Desktop Header (hidden on mobile) -->
                <div class="hidden md:flex flex-col items-center justify-center w-full space-y-4">
                    <a href="https://www.AIChatWatch.com" title="Go to AI Chat Watch Homepage"
                        class="hover:opacity-80 transition-opacity">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 450 100" preserveAspectRatio="xMidYMid meet"
                            aria-hidden="true" class="w-full max-w-md">
                            <text x="10" y="70" font-family="Arial, sans-serif" font-size="80" font-weight="bold"
                                class="header-text" fill="currentColor">AI</text>
                            <text x="110" y="70" font-family="Arial, sans-serif" font-size="40" class="header-text"
                                fill="currentColor">ChatWatch.com</text>
                            <g transform="translate(30, 10) scale(0.6)">
                                <circle cx="50" cy="50" r="25" fill="none" stroke="currentColor" stroke-width="3">
                                </circle>
                                <line x1="70" y1="70" x2="100" y2="100" stroke="currentColor" stroke-width="5"
                                    stroke-linecap="round"></line>
                            </g>
                        </svg>
                    </a>
                    <div class="flex items-center justify-center gap-6">
                        <a href="https://github.com/aichatwatch/aicw"
                        target="_blank"
                        rel="noopener noreferrer"
                        title="View AI Chat Watch on GitHub"
                        class="text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors">
                            <i class="fa-brands fa-github"></i>
                            Github
                        </a>
                        <a href="https://aichatwatch.com/cloud"
                        target="_blank"
                        rel="noopener noreferrer"
                        title="View AI Chat Watch Cloud"
                        class="text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 transition-colors">
                            <i class="fas fa-cloud"></i>
                            Cloud Version
                        </a>                    
                    </div>                        
                </div>

            </div>
        </header>        

        <!-- Main Content -->
        <main class="container mx-auto px-4 py-4 max-w-7xl">

            <div id="app" class="container mx-auto px-4 py-4">

                <div v-if="false">
                    <div class="loading-content">
                        <div class="loading-wrapper">
                            <h1>Welcome to AI Chat Watch!</h1>
                            <p>Your report is loading, please wait...</p>
                            <div class="spinner-container">
                                <img src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="
                                    alt="Loading..." />
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Your default content or loading indicator -->

                <div v-cloak>
                    <!-- Render visual objects dynamically -->
                    <div v-for="obj in CURRENT_VISUAL_OBJECTS_ARRAY" :key="obj.id" class="mb-8">
                        <component
                            :is="obj.type"
                            v-bind="obj"
                            :data-section-id="obj.id">
                        </component>
                    </div>
                </div>
        </main>

        <!-- Footer -->
        <footer class="py-10 mt-16">
            <div class="container mx-auto px-4">
                <div class="flex flex-col md:flex-row gap-8 md:gap-12">
                    <div class="flex-shrink-0">
                        <h3 class="text-2xl font-bold mb-2">AIChatWatch.com</h3>
                        <p class="text-sm text-gray-600 dark:text-gray-400">Know What AI Tells Your Customers</p>
                    </div>
                    <div class="md:ml-8">
                        <h4 class="text-lg font-semibold mb-2">Quick Links</h4>
                        <ul class="space-y-1 text-sm">
                            <li><a href="https://aichatwatch.com/"
                                    class="hover:text-yellow-300 dark:hover:text-yellow-400 transition duration-300">AIChatWatch.com</a></li>
                            <li><a href="https://github.com/aichatwatch/aicw"
                                    class="hover:text-yellow-300 dark:hover:text-yellow-400 transition duration-300">GitHub Repo</a></li>
                            <li><a href="https://aichatwatch.com/cloud"
                                class="hover:text-yellow-300 dark:hover:text-yellow-400 transition duration-300">Cloud Version</a></li>
    
                            <li><a href="https://aichatwatch.com/#faq"
                                    class="hover:text-yellow-300 dark:hover:text-yellow-400 transition duration-300">Frequently Asked Questions</a></li>
                        </ul>
                    </div>
                </div>
                <div class="mt-8 pt-8 border-t border-white/20 text-left">
                    <div class="text-sm space-y-2">
                        <p>
                            &copy; <script>document.write(new Date().getFullYear());</script>
                            <a href="https://aichatwatch.com"
                            class="hover:text-yellow-300 dark:hover:text-yellow-400 transition duration-300">AIChatWatch.com</a>.
                            All rights reserved.
                        </p>
                        <!-- report timestamp begin -->
                        <p class="text-xs text-gray-600 dark:text-gray-400">
                            generated on {{REPORT_CREATED_AT_DATETIME}}
                        </p>
                        <!-- report timestamp end -->
                        <!-- app version begin -->
                        <p class="text-xs text-gray-600 dark:text-gray-400">
                            report engine version: <span class="selectable-text report-engine-version"></span>
                        </p>
                        <!-- app version end -->
                        <p class="text-xs text-gray-500 dark:text-gray-500 mt-4 leading-relaxed max-w-4xl">
                            All organizations and company names, trademarks, logos, brand names, and other intellectual property displayed in this report remain the property of their respective owners. The inclusion of any third-party content, links, or references does not constitute an endorsement. AIChatWatch.com makes no representations or warranties about the accuracy, completeness, or reliability of any third-party information and assumes no responsibility for any errors, omissions, or consequences of using the information contained in this report. Users access external links and third-party content at their own risk.
                        </p>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Footer end -->

    </div>

    <!-- Scripts -->
    <script>
        // Toggle dark mode function
        function toggleDarkMode() {
            const isDarkMode = localStorage.getItem('aicwDarkMode') === 'true';
            const newMode = !isDarkMode;
            localStorage.setItem('aicwDarkMode', newMode.toString());

            if (newMode) {
                document.documentElement.classList.add('dark');
            } else {
                document.documentElement.classList.remove('dark');
            }

            // Update the menu item text and icon
            const darkModeMenuItem = document.querySelector('[data-target="dark_mode_toggle"]');
            if (darkModeMenuItem) {
                const icon = darkModeMenuItem.querySelector('i');
                const text = darkModeMenuItem.lastChild;
                if (newMode) {
                    if (icon) icon.className = 'fas fa-sun text-gray-500 dark:text-gray-400 mr-2';
                    if (text) text.nodeValue = 'Light Mode';
                } else {
                    if (icon) icon.className = 'fas fa-moon text-gray-500 dark:text-gray-400 mr-2';
                    if (text) text.nodeValue = 'Dark Mode';
                }
            }

            // Trigger Vue app update if it exists
            if (window.app && window.app.isDarkMode !== undefined) {
                window.app.isDarkMode = newMode;
            }
        }

        // Convert UTC timestamps to user's local timezone
        function convertTimestamps() {
            const timestampElements = document.querySelectorAll('.report-timestamp');
            timestampElements.forEach(element => {
                const utcTimestamp = element.getAttribute('data-utc');
                if (utcTimestamp) {
                    try {
                        const date = new Date(utcTimestamp);
                        const options = {
                            month: 'short',
                            day: 'numeric',
                            year: 'numeric',
                            hour: 'numeric',
                            minute: '2-digit',
                            hour12: true,
                            timeZoneName: 'short'
                        };
                        const formatted = date.toLocaleString('en-US', options);
                        // Replace the second comma with " at"
                        element.textContent = formatted.replace(/,([^,]*)$/, ' at$1');
                    } catch (error) {
                        // Fallback to original UTC timestamp if conversion fails
                        element.textContent = utcTimestamp;
                    }
                }
            });
        }

        // Apply dark mode on page load
        if (localStorage.getItem('aicwDarkMode') === 'true') {
            document.documentElement.classList.add('dark');
        }

        document.addEventListener('DOMContentLoaded', function () {
            function insertVersionNumber() {
                const versionElements = document.querySelectorAll('.report-engine-version');
                versionElements.forEach(element => {
                    element.innerHTML = REPORT_ENGINE_VERSION;
                });
            }
            insertVersionNumber();

            // Convert timestamps to user's local timezone
            convertTimestamps();

            // mobile hint

            const mobileHint = document.getElementById('mobile-hint');
            const closeHint = document.getElementById('mobile-hint-close');

            function checkScreenSize() {
                if (window.innerWidth < 768 && !localStorage.getItem('hintClosed')) {
                    mobileHint.classList.add('show');
                    document.body.classList.add('has-mobile-hint');
                } else {
                    mobileHint.classList.remove('show');
                    document.body.classList.remove('has-mobile-hint');
                }
            }

            closeHint.addEventListener('click', function () {
                mobileHint.classList.remove('show');
                document.body.classList.remove('has-mobile-hint');
                localStorage.setItem('hintClosed', 'true');
            });
            mobileHint.addEventListener('click', function () {
                mobileHint.classList.remove('show');
                document.body.classList.remove('has-mobile-hint');
                localStorage.setItem('hintClosed', 'true');
            });

            window.addEventListener('resize', checkScreenSize);
            checkScreenSize(); // Check on initial load
            
            // Navigation Menu Functionality
            initializeNavigationMenu();
        });
        
        function initializeNavigationMenu() {
            const navigationMenu = document.getElementById('navigation-menu');
            const mobileMenuToggle = document.getElementById('mobile-menu-toggle');
            const desktopMenuToggle = document.getElementById('desktop-menu-toggle');
            const closeMenuBtn = document.getElementById('close-menu');
            const menuOverlay = document.getElementById('menu-overlay');
            const navItems = document.getElementById('nav-items');
            
            // Build navigation items from sections
            function buildNavigation() {
                const sections = [
                    { id: 'explore_projects', title: 'Explore Projects', type: 'main', icon: 'fa-turn-up' },
                    { id: 'about_report', title: 'Table of Contents', type: 'main', icon: 'fa-list' },
                    
                    /* disabled on 2025 oct 14 as it was replaced with "Top Influencers" block
                    { id: 'text_summary', title: 'AI Summary', type: 'main', icon: 'fa-file-alt' },                                        
                    */
                    { id: 'top_influencers', title: 'Top Influencers', type: 'main', icon: 'fa-balance-scale' },

                    { id: 'parent_div_for_tabbed_events', title: 'Events', type: 'main', icon: 'fa-calendar' },
                    { id: 'parent_div_for_tabbed_keywords', title: 'Keywords', type: 'main', icon: 'fa-tags' },
                    { id: 'parent_div_for_tabbed_organizations', title: 'Organizations', type: 'main', icon: 'fa-building' },
                    { id: 'parent_div_for_tabbed_persons', title: 'Persons', type: 'main', icon: 'fa-users' },
                    { id: 'parent_div_for_tabbed_places', title: 'Places', type: 'main', icon: 'fa-map-marker-alt' },
                    { id: 'parent_div_for_tabbed_products', title: 'Products', type: 'main', icon: 'fa-box' },
                    { id: 'parent_div_for_tabbed_links', title: 'Links', type: 'main', icon: 'fa-link' },
                    { id: 'parent_div_for_tabbed_linkDomains', title: 'Link Domains', type: 'main', icon: 'fa-globe' },
                    
                    { id: 'parent_div_for_tabbed_linkTypes', title: 'Link Types', type: 'main', icon: 'fa-sitemap' },
                    
                    { id: 'divider1', type: 'divider' },
                    { id: 'select_report_type', title: 'Switch Report', type: 'action', icon: 'fa-exchange-alt' },
                    { id: 'divider2', type: 'divider' },
                    { id: 'dark_mode_toggle', title: 'Dark Mode', type: 'action', icon: 'fa-moon' },
                    { id: 'divider3', type: 'divider' },
                    { id: 'link_github', title: 'View on GitHub', type: 'action', icon: 'fa-brands fa-github' },
                    { id: 'divider4', type: 'divider' },
                    { id: 'link_cloud', title: 'Cloud Version', type: 'action', icon: 'fa-solid fa-cloud' },

                ];

                navItems.innerHTML = '';
                sections.forEach(section => {
                    // Handle dividers
                    if (section.type === 'divider') {
                        const hr = document.createElement('hr');
                        hr.className = 'my-2 border-gray-300 dark:border-gray-600';
                        navItems.appendChild(hr);
                        return;
                    }

                    const li = document.createElement('li');
                    li.className = section.type === 'subsection' ? 'subsection text-gray-600 dark:text-gray-400' : 'text-gray-700 dark:text-gray-200';

                    // For dark mode toggle, adjust icon and text based on current state
                    if (section.id === 'dark_mode_toggle') {
                        const isDarkMode = document.documentElement.classList.contains('dark');
                        section.icon = isDarkMode ? 'fa-sun' : 'fa-moon';
                        section.title = isDarkMode ? 'Light Mode' : 'Dark Mode';
                        li.className = 'text-gray-700 dark:text-gray-200 cursor-pointer hover:bg-blue-50 dark:hover:bg-gray-700';
                    }

                    // Create icon element
                    if (section.icon) {
                        const icon = document.createElement('i');
                        icon.className = `fas ${section.icon} mr-2`;
                        li.appendChild(icon);
                    }

                    // Add text
                    const textNode = document.createTextNode(section.title);
                    li.appendChild(textNode);

                    li.dataset.target = section.id.replace('parent_div_for_', '');
                    li.onclick = () => scrollToSection(section.id);
                    navItems.appendChild(li);
                });
            }
            
            // Scroll to section with smart offset logic
            function scrollToSection(sectionId) {
                // Handle dark mode toggle
                if (sectionId === 'dark_mode_toggle') {
                    toggleDarkMode();
                    return;
                }

                // Handle view on GitHub
                if (sectionId === 'link_github') {
                    window.open('https://github.com/aichatwatch/aicw', '_blank');
                    return;
                }
                else if (sectionId === 'link_cloud') {
                    window.open('https://aichatwatch.com/cloud', '_blank');
                    return;
                }
                else if (sectionId === 'explore_projects') {
                    if (window.app && window.app.isAggregateReport) {
                        window.location.href = '../../../index.html';
                    } else {
                        window.location.href = '../../../../index.html';
                    }
                    return;
                }

                // Handle select report type
                if (sectionId === 'select_report_type') {
                    // Close mobile menu first
                    closeMobileMenu();

                    // Trigger the report selector modal using EventBus
                    setTimeout(() => {
                        if (window.EventBus) {
                            window.EventBus.$emit('show-report-selector');
                        } else if (window.app && window.app.$children) {
                            // Fallback: Try to find the floating-question-navigator component
                            window.app.$children.forEach(child => {
                                if (child.$options._componentTag === 'floating-question-navigator' ||
                                    child.$options.name === 'floating-question-navigator') {
                                    child.showNavigator = true;
                                }
                            });
                        }
                    }, 100);
                    return;
                }

                // Try direct ID first
                let element = document.getElementById(sectionId);

                // If not found, try with parent_div_for_ prefix (Vue component IDs)
                if (!element) {
                    element = document.getElementById('parent_div_for_' + sectionId);
                }

                if (element) {
                    // Add small delay to ensure element is fully rendered
                    setTimeout(() => {
                        // Try to find the h2 title within the section for precise scrolling
                        const titleElement = element.querySelector('h2.text-xl.font-semibold');
                        const targetElement = titleElement || element;

                        // Use smaller offset for precise h2 targeting, larger offset for fallback
                        const offset = titleElement ? 80 : 160;
                        const offsetPosition = targetElement.offsetTop - offset;

                        window.scrollTo({
                            top: offsetPosition,
                            behavior: 'smooth'
                        });

                        // Add a brief highlight effect to show which section was navigated to
                        element.classList.add('highlight-section');
                        setTimeout(() => {
                            element.classList.remove('highlight-section');
                        }, 2000);
                    }, 100);

                    closeMobileMenu();
                }
            }
            
            // Mobile menu controls
            function openMobileMenu() {
                navigationMenu.classList.add('menu-open');
                menuOverlay.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            }
            
            function closeMobileMenu() {
                navigationMenu.classList.remove('menu-open');
                menuOverlay.classList.add('hidden');
                document.body.style.overflow = '';
            }

            // Desktop sidebar toggle
            function toggleDesktopSidebar() {
                document.body.classList.toggle('sidebar-collapsed');
                const isCollapsed = document.body.classList.contains('sidebar-collapsed');
                localStorage.setItem('aicwSidebarCollapsed', isCollapsed);
            }

            // Restore sidebar state
            if (localStorage.getItem('aicwSidebarCollapsed') === 'true') {
                document.body.classList.add('sidebar-collapsed');
            }

            // Event listeners
            if (mobileMenuToggle) {
                mobileMenuToggle.addEventListener('click', openMobileMenu);
            }

            if (desktopMenuToggle) {
                desktopMenuToggle.addEventListener('click', toggleDesktopSidebar);
            }

            if (closeMenuBtn) {
                closeMenuBtn.addEventListener('click', closeMobileMenu);
            }

            if (menuOverlay) {
                menuOverlay.addEventListener('click', closeMobileMenu);
            }
            
            // Scroll spy to highlight active section
            function updateActiveSection() {
                const sections = document.querySelectorAll('.section, [id^="parent_div_for_"]');
                const scrollPosition = window.scrollY + 100;
                
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    const sectionHeight = section.offsetHeight;
                    let sectionId = section.id;
                    
                    // Remove parent_div_for_ prefix for matching with nav items
                    if (sectionId.startsWith('parent_div_for_')) {
                        sectionId = sectionId.replace('parent_div_for_', '');
                    }
                    
                    if (scrollPosition >= sectionTop && scrollPosition < sectionTop + sectionHeight) {
                        navItems.querySelectorAll('li').forEach(item => {
                            item.classList.remove('active');
                            if (item.dataset.target === sectionId) {
                                item.classList.add('active');
                            }
                        });
                    }
                });
            }
            
            // Throttle scroll events
            let scrollTimeout;
            window.addEventListener('scroll', () => {
                if (scrollTimeout) {
                    clearTimeout(scrollTimeout);
                }
                scrollTimeout = setTimeout(updateActiveSection, 100);
            });
            
            // Initialize navigation
            buildNavigation();
            updateActiveSection();
        }


    </script>

    <script src="{{REPORT_DATE}}-data-static.js"></script>
    <!-- data files -->
    <!--DATA_JS_BEGIN-->
    <script src="{{REPORT_DATE}}-data.js"></script>
    <!--DATA_JS_END-->
    <!-- Full answers data file -->
    <script>
        // Try to load answers.js with fallback for file:// protocol and different report types
        (function() {
            const answersPath = '{{REPORT_DATE}}-answers.js';
            const script = document.createElement('script');
            script.src = answersPath;
            script.onerror = function() {
                console.error('Failed to load answers.js from', answersPath, ', trying alternative paths...');                
            };
            script.onload = function() {
                console.log('Successfully loaded answers.js from', answersPath);
                window.fullAnswers = window["answers{{REPORT_DATE_WITHOUT_DASHES}}"];            
            };
            document.head.appendChild(script);
        })();
    </script>
    <script src="app.js"></script>

</body>

</html>
